



<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,viewport-fit=cover">
    <title>检索列表</title>
    <link type="text/css" rel="stylesheet" href="/weixin/css/weui.min.css"/>
    <link type="text/css" rel="stylesheet" href="/weixin/css/searchList.css">
</head>
<body>
<div class="weui-panel weui-panel_access">
    <div class="weui-panel__hd" id="searchVal">检索词：</div>
    <div class="weui-panel__bd">
        
            <a href="/weixin/searchResultDetail/getDetail?recordId=699007&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1" class="weui-media-box weui-media-box_appmsg">
                <div class="weui-media-box__hd">
                    
                    
                        <img class="weui-media-box__thumb" src="/weixin/book/preview?title=Python  :create-modify-reuse &isbn=9780470259320 (paper/website)&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I" alt="" onError="this.onerror=null; this.src='/weixin/image/default.png';">
                </div>
                <div class="weui-media-box__bd">
                    <h4 class="weui-media-box__title">Python  :create-modify-reuse </h4>
                    <p class="weui-media-box__desc">责任者：Jim Knowlton.</p>
                    <p class="weui-media-box__desc">ISBN：9780470259320 (paper/website)</p>
                    <p class="weui-media-box__desc">出版信息：Wiley Technology Pub.,  2008.</p>
                </div>
            </a>
        
            <a href="/weixin/searchResultDetail/getDetail?recordId=2816260&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1" class="weui-media-box weui-media-box_appmsg">
                <div class="weui-media-box__hd">
                    
                    
                        <img class="weui-media-box__thumb" src="/weixin/book/preview?title=Python 2.1 宝典&isbn=7-5053-7443-5&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I" alt="" onError="this.onerror=null; this.src='/weixin/image/default.png';">
                </div>
                <div class="weui-media-box__bd">
                    <h4 class="weui-media-box__title">Python 2.1 宝典</h4>
                    <p class="weui-media-box__desc">责任者：(美) Dave Brueck,(美) Stephen Tanner著</p>
                    <p class="weui-media-box__desc">ISBN：7-5053-7443-5</p>
                    <p class="weui-media-box__desc">出版信息：电子工业出版社  2002</p>
                </div>
            </a>
        
            <a href="/weixin/searchResultDetail/getDetail?recordId=6791813&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1" class="weui-media-box weui-media-box_appmsg">
                <div class="weui-media-box__hd">
                    
                    
                        <img class="weui-media-box__thumb" src="/weixin/book/preview?title=Python 2.6 Graphics Cookbook&isbn=9781849513845&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I" alt="" onError="this.onerror=null; this.src='/weixin/image/default.png';">
                </div>
                <div class="weui-media-box__bd">
                    <h4 class="weui-media-box__title">Python 2.6 Graphics Cookbook</h4>
                    <p class="weui-media-box__desc">责任者：</p>
                    <p class="weui-media-box__desc">ISBN：9781849513845</p>
                    <p class="weui-media-box__desc">出版信息：Packt Publishing  </p>
                </div>
            </a>
        
            <a href="/weixin/searchResultDetail/getDetail?recordId=5927360&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1" class="weui-media-box weui-media-box_appmsg">
                <div class="weui-media-box__hd">
                    
                    
                        <img class="weui-media-box__thumb" src="/weixin/book/preview?title=Python 3.0科学计算指南&isbn=978-7-115-48114-6&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I" alt="" onError="this.onerror=null; this.src='/weixin/image/default.png';">
                </div>
                <div class="weui-media-box__bd">
                    <h4 class="weui-media-box__title">Python 3.0科学计算指南</h4>
                    <p class="weui-media-box__desc">责任者：(瑞典) 克劳斯·福勒, 简·埃里克·索利姆, 奥利维尔·维迪尔著</p>
                    <p class="weui-media-box__desc">ISBN：978-7-115-48114-6</p>
                    <p class="weui-media-box__desc">出版信息：人民邮电出版社  2018</p>
                </div>
            </a>
        
            <a href="/weixin/searchResultDetail/getDetail?recordId=443554&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1" class="weui-media-box weui-media-box_appmsg">
                <div class="weui-media-box__hd">
                    
                    
                        <img class="weui-media-box__thumb" src="/weixin/book/preview?title=Python 3.0科学计算指南&isbn=978-7-115-48114-6&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I" alt="" onError="this.onerror=null; this.src='/weixin/image/default.png';">
                </div>
                <div class="weui-media-box__bd">
                    <h4 class="weui-media-box__title">Python 3.0科学计算指南</h4>
                    <p class="weui-media-box__desc">责任者：(瑞典) 克劳斯·福勒, 简·埃里克·索利姆, 奥利维尔·维迪尔著</p>
                    <p class="weui-media-box__desc">ISBN：978-7-115-48114-6</p>
                    <p class="weui-media-box__desc">出版信息：人民邮电出版社  2018</p>
                </div>
            </a>
        
            <a href="/weixin/searchResultDetail/getDetail?recordId=5906635&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1" class="weui-media-box weui-media-box_appmsg">
                <div class="weui-media-box__hd">
                    
                    
                        <img class="weui-media-box__thumb" src="/weixin/book/preview?title=Python 3.5从零开始学&isbn=978-7-302-47596-5&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I" alt="" onError="this.onerror=null; this.src='/weixin/image/default.png';">
                </div>
                <div class="weui-media-box__bd">
                    <h4 class="weui-media-box__title">Python 3.5从零开始学</h4>
                    <p class="weui-media-box__desc">责任者：刘宇宙编著</p>
                    <p class="weui-media-box__desc">ISBN：978-7-302-47596-5</p>
                    <p class="weui-media-box__desc">出版信息：清华大学出版社  2017</p>
                </div>
            </a>
        
            <a href="/weixin/searchResultDetail/getDetail?recordId=5935778&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1" class="weui-media-box weui-media-box_appmsg">
                <div class="weui-media-box__hd">
                    
                    
                        <img class="weui-media-box__thumb" src="/weixin/book/preview?title=Python 3.6编程实践指南 : 计算机科学入门 : an introduction to computer science using Python 3.6&isbn=978-7-111-60994-0&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I" alt="" onError="this.onerror=null; this.src='/weixin/image/default.png';">
                </div>
                <div class="weui-media-box__bd">
                    <h4 class="weui-media-box__title">Python 3.6编程实践指南 : 计算机科学入门 : an introduction to computer science using Python 3.6</h4>
                    <p class="weui-media-box__desc">责任者：(美) 保罗·格里斯, 詹妮弗·坎贝尔, 杰森·蒙特霍著</p>
                    <p class="weui-media-box__desc">ISBN：978-7-111-60994-0</p>
                    <p class="weui-media-box__desc">出版信息：机械工业出版社  2019</p>
                </div>
            </a>
        
            <a href="/weixin/searchResultDetail/getDetail?recordId=3335841&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1" class="weui-media-box weui-media-box_appmsg">
                <div class="weui-media-box__hd">
                    
                    
                        <img class="weui-media-box__thumb" src="/weixin/book/preview?title=Python 3.6编程实践指南 : 计算机科学入门 : an introduction to computer science using Python 3.6&isbn=978-7-111-60994-0&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I" alt="" onError="this.onerror=null; this.src='/weixin/image/default.png';">
                </div>
                <div class="weui-media-box__bd">
                    <h4 class="weui-media-box__title">Python 3.6编程实践指南 : 计算机科学入门 : an introduction to computer science using Python 3.6</h4>
                    <p class="weui-media-box__desc">责任者：(美) 保罗· 格里斯, (美) 詹妮弗· 坎贝尔, (美) 杰森·蒙特霍著</p>
                    <p class="weui-media-box__desc">ISBN：978-7-111-60994-0</p>
                    <p class="weui-media-box__desc">出版信息：机械工业出版社  2019</p>
                </div>
            </a>
        
            <a href="/weixin/searchResultDetail/getDetail?recordId=5926923&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1" class="weui-media-box weui-media-box_appmsg">
                <div class="weui-media-box__hd">
                    
                    
                        <img class="weui-media-box__thumb" src="/weixin/book/preview?title=Python 3.6从入门到精通&isbn=978-7-302-51174-8&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I" alt="" onError="this.onerror=null; this.src='/weixin/image/default.png';">
                </div>
                <div class="weui-media-box__bd">
                    <h4 class="weui-media-box__title">Python 3.6从入门到精通</h4>
                    <p class="weui-media-box__desc">责任者：王英英编著</p>
                    <p class="weui-media-box__desc">ISBN：978-7-302-51174-8</p>
                    <p class="weui-media-box__desc">出版信息：清华大学出版社  2018</p>
                </div>
            </a>
        
            <a href="/weixin/searchResultDetail/getDetail?recordId=397902&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1" class="weui-media-box weui-media-box_appmsg">
                <div class="weui-media-box__hd">
                    
                    
                        <img class="weui-media-box__thumb" src="/weixin/book/preview?title=Python 3.6从入门到精通 : 视频教学版&isbn=978-7-302-51174-8&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I" alt="" onError="this.onerror=null; this.src='/weixin/image/default.png';">
                </div>
                <div class="weui-media-box__bd">
                    <h4 class="weui-media-box__title">Python 3.6从入门到精通 : 视频教学版</h4>
                    <p class="weui-media-box__desc">责任者：王英英编著</p>
                    <p class="weui-media-box__desc">ISBN：978-7-302-51174-8</p>
                    <p class="weui-media-box__desc">出版信息：清华大学出版社  2018</p>
                </div>
            </a>
        
    </div>
    <div class="loading">正在加载</div>
    <div class="error">加载失败</div>
    
        
            
            
        
    
</div>

<script src="/weixin/js/zepto.min.js"></script>
<script>
    $('.loading').hide();
    $('.error').hide();
    function addItem(array) {
        $.each(array, function (index, item) {
            var html = [
                '<a href="/weixin/searchResultDetail/getDetail?recordId='+item.recordId+'&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1" class="weui-media-box weui-media-box_appmsg">',
                '<div class="weui-media-box__hd">',
                '<img class="weui-media-box__thumb" src="/weixin/book/preview?title='+(item.title || '')+'&isbn='+(item.isbn || '')+'&mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I" alt="" onError="this.onerror=null; this.src=\'/weixin/image/default.png\';" >',
                
                '</div>',
                '<div class="weui-media-box__bd">',
                '<h4 class="weui-media-box__title">'+(item.title || '') +'</h4>',
                '<p class="weui-media-box__desc">责任者：'+ (item.author || '') +'</p>',
                '<p class="weui-media-box__desc">ISBN：'+ (item.isbn || '') +'</p>',
                '<p class="weui-media-box__desc">出版信息：'+ (item.publisher || '') + '  ' + (item.publishYear || '') +'</p>',
                '</div>',
                '</a>'
            ];
            $('.weui-panel__bd').append(html.join(''));
        });
    }

    $(function(){
        $('#searchVal').text('检索词：' + "Python");
        var page = 1;
        var flag = true; // flag 用于防止滚动中（内容还未加载完毕）加载多次
        var total = 4068;
        if(total <= page * 10){
            flag = false;
            $('.weui-panel__bd').append('<div class="bottom">到底了~</div>');
        }
        var mess = JSON.stringify(new unifySearch("Python", "keyWord", 10, page + 1));
        $('#moreBtn').on('click', function () {
            $.ajax({
                url: "/weixin/unify/unifySearchAdd?mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1",
                type: "post",
                
                data:mess,
                contentType: "application/json",
                success: function(data){
                    var vo = eval(data);
                    var list = vo.searchResult;
                    page = page + 1;
                    mess = JSON.stringify(new unifySearch("Python", "keyWord", 10, page + 1));
                    addItem(list);
                }
            });
        });

        // jquery实现
        $(window).bind("scroll", function (event) {
            //滚动条到网页头部的 高度，兼容ie,ff,chrome
            var top = document.documentElement.scrollTop + document.body.scrollTop;
            //网页的高度
            var textheight = $(document).height();
            // 网页高度-top-当前窗口高度
            if (textheight - top - $(window).height() <= 100) {
                if (flag) {
                    // 触发后
                    flag = false;
                    $('.loading').show();
                    // 加载更多
                    ajaxSearch();

                }

            }

        });
        function ajaxSearch() {
            $.ajax({
                url: "/weixin/unify/unifySearchAdd?mappingPath=njulib&groupCode=200027&openid=oeL7DjraEzAnkWJpPrebGqI6B55I&pubId=1",
                type: "post",
                
                data:mess,
                contentType: "application/json",
                success: function(data){
                    var vo = eval(data);
                    var list = vo.searchResult||[];
                    var numFound = vo.numFound || 0;
                    page = page + 1;
                    mess = JSON.stringify(new unifySearch("Python", "keyWord", 10, page + 1));
                    $('.loading').hide();
                    addItem(list);
                    console.log(numFound);

                    if (numFound <= page * 10) {
                        flag = false;
                        $('.weui-panel__bd').append('<div class="bottom">到底了~</div>');
                    } else {
                        flag = true;
                    }

                },
                error:function () {
                    $('.loading').hide();
                    $('.error').show();
                }
            });
        }
    });
    function unifySearch(searchFieldContent,searchField,rows,page){
        this.searchFieldContent=searchFieldContent;
        this.searchField=searchField;
        this.rows=rows;
        this.page=page;
    }

</script>
</body>
</html>
